import React, { useState } from 'react';

// Tailwind CSS is assumed to be available
export default function App() {
  // Define the workshop data as a constant array of objects
  const workshops = [
    {
      id: 1,
      title: 'ReadKidz AI 繪本與動畫創作',
      date: '2024/8/16 (五) 09:00 - 11:00',
      organizer: 'ReadKidz 原廠',
      content: '學習如何運用 AI 工具創作繪本與動畫。',
      links: [
        { name: '主辦官網', url: 'https://www.readkidz.com/app' },
        { name: '報名連結', url: 'https://docs.google.com/forms/d/e/1FAIpQLSehhOf-a9dNXL2NJebcjf1qX39XKhdDKqTBljDEuYal2z6wsg/viewform' },
        { name: '線上會議', url: 'https://meet.google.com/vnn-guzw-rmq' },
      ],
    },
    {
      id: 2,
      title: 'Felo AI Agent 學習好幫手',
      date: '2024/8/11 (日) 14:00 - 16:00',
      organizer: '南一科技',
      content: '介紹 Felo AI Agent 如何協助提升學習效率。',
      links: [
        { name: '主辦官網', url: 'https://felo.ai/zh-Hant/agents' },
        { name: '報名連結', url: 'https://docs.google.com/forms/d/e/1FAIpQLSeJ4n5exlE502divCrJa9aHriUOyADjODCnusbX3DECFkWSAw/viewform' },
        { name: '線上會議', url: 'https://meet.google.com/yra-ezyk-nbv' },
      ],
    },
    {
      id: 3,
      title: 'Vidnoz 校園影片虛擬主播',
      date: '2024/8/18 (日) 14:00 - 16:00',
      organizer: '南一科技',
      content: '學習利用 Vidnoz 虛擬主播製作校園影片。',
      links: [
        { name: '主辦官網', url: 'https://tw.vidnoz.com/' },
        { name: '報名連結', url: 'https://docs.google.com/forms/d/e/1FAIpQLSeBEIvTAMiltbLsi8WlX_DODHD3ck1WOZz8bLPH8tQH3pxu3A/viewform' },
        { name: '線上會議', url: 'https://meet.google.com/yra-ezyk-nbv' },
      ],
    },
  ];

  // Use state to keep track of the currently selected workshop's ID.
  // Initially, no workshop is selected.
  const [selectedWorkshopId, setSelectedWorkshopId] = useState(null);

  // Find the selected workshop object from the workshops array
  const selectedWorkshop = workshops.find(w => w.id === selectedWorkshopId);

  return (
    <div className="bg-gray-100 min-h-screen p-4 md:p-8">
      <div className="max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
        
        {/* Header Section */}
        <div className="p-6 bg-blue-600 text-white text-center">
          <h1 className="text-3xl md:text-4xl font-bold">呂聰賢老師 AI 研習資訊總覽</h1>
          <p className="mt-2 text-blue-100">點選左側研習名稱查看詳細資訊</p>
        </div>

        {/* Main Content Area: Flexbox for responsive layout */}
        <div className="flex flex-col md:flex-row">

          {/* Left Sidebar for Workshop Titles */}
          <div className="w-full md:w-1/3 border-b md:border-b-0 md:border-r border-gray-200 p-4 space-y-2">
            {workshops.map(workshop => (
              <button
                key={workshop.id}
                onClick={() => setSelectedWorkshopId(workshop.id)}
                className={`w-full text-left p-4 rounded-lg transition-colors duration-200 ease-in-out
                            ${selectedWorkshopId === workshop.id ? 'bg-blue-100 text-blue-800 font-semibold' : 'bg-gray-50 hover:bg-gray-100'}`}
              >
                {workshop.title}
              </button>
            ))}
          </div>

          {/* Right Content Area for Workshop Details */}
          <div className="w-full md:w-2/3 p-6 flex items-center justify-center">
            {selectedWorkshop ? (
              // Display details if a workshop is selected
              <div className="bg-white rounded-lg p-6 w-full animate-fadeIn">
                <h2 className="text-2xl font-bold text-blue-700">{selectedWorkshop.title}</h2>
                <div className="mt-4 space-y-2 text-gray-700">
                  <p><strong>日期與時間：</strong> {selectedWorkshop.date}</p>
                  <p><strong>主辦單位：</strong> {selectedWorkshop.organizer}</p>
                  <p><strong>課程內容：</strong> {selectedWorkshop.content}</p>
                </div>
                
                {/* Links Section */}
                <div className="mt-6 flex flex-wrap gap-3">
                  {selectedWorkshop.links.map(link => (
                    <a
                      key={link.name}
                      href={link.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-700 transition-colors duration-200 ease-in-out text-sm font-medium"
                    >
                      {link.name}
                    </a>
                  ))}
                </div>
              </div>
            ) : (
              // Prompt to select a workshop if none is selected
              <div className="text-center text-gray-500 p-8">
                <p className="text-xl md:text-2xl">請從左側列表中選擇一個研習來查看詳細資訊。</p>
              </div>
            )}
          </div>
        </div>
        
        {/* Source Link Section */}
        <div className="p-4 bg-gray-50 border-t border-gray-200 text-right text-sm text-gray-500">
          <p>資訊來源：<a href="https://www.facebook.com/lubloger" target="_blank" rel="noopener noreferrer" className="hover:underline">https://www.facebook.com/lubloger</a></p>
        </div>
      </div>
    </div>
  );
}
